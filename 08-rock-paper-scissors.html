<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rock Paper Scissors</title>
</head>
<body>

  <p>Lets Play Game</p>

  <button onclick="
    playGame('rock');
    ">rock</button>

  <button onclick="
    playGame('paper');
    ">paper</button>

  <button onclick="
    playGame('scissors');
    ">scissors</button>

    <button onclick="
      score.Wins = 0;
      score.Losses = 0;
      score.Ties = 0;
      localStorage.removeItem('score');
    ">reset</button>
  
  <script>

    let score = JSON.parse(localStorage.getItem('score')) || {
      Wins : 0,
      Losses : 0,
      Ties : 0
    };

    /* 
    if(!score) {
      score = {
        Wins : 0,
        Losses : 0,
        Ties : 0
      };
    }
    */

    function playGame (playerMove) {
      const cumputerMove = pickCumputerMove();
      
      let result = '';

      if(playerMove === 'rock') {
        if(cumputerMove === 'paper') {
          result = 'You Lose';
        } else if (cumputerMove === 'scissors') {
          result = 'You Win'
        } else if (cumputerMove === 'rock') {
          result = 'Tie'
        }
      }else if(playerMove === 'paper'){
        if(cumputerMove === 'rock'){
          result = 'You Win';
        }else if(cumputerMove === 'paper'){
          result = 'Tie';
        }else if(cumputerMove === 'scissors'){
          result = 'You Lose'
        }
      }else if(playerMove === 'scissors'){
        if(cumputerMove === 'rock'){
          result = 'You Lose';
        }else if(cumputerMove === 'paper'){
          result = 'You Win';
        }else if(cumputerMove === 'scissors'){
          result = 'Tie'
        }
      }

      if(result === 'You Win'){
        score.Wins ++;
      }else if (result === 'You Lose'){
        score.Losses ++;
      }else if (result === 'Tie'){
        score.Ties ++;
      }

      localStorage.setItem('score' , JSON.stringify(score));

      alert(`You picked ${playerMove} cumputer picked ${cumputerMove} = ${result}
Wins ${score.Wins} Losses ${score.Losses} Ties ${score.Ties}`);
    }

    


    function pickCumputerMove () {
      const randomNumber = Math.random();
    
      let cumputerMove = '';
      
      if(randomNumber >= 0 && randomNumber <= 1/3) {
        cumputerMove = 'rock';
      } else if(randomNumber >= 1/3 && randomNumber <= 2/3) {
        cumputerMove = 'paper';
      } else if(randomNumber >= 2/3 && randomNumber <= 1) {
        cumputerMove = 'scissors'
      }
      
      return cumputerMove;

   }
  </script>
</body>
</html>